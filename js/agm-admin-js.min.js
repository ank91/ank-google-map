!function(e){function t(e){return document.querySelector("#"+e)||document.getElementById(e)}function o(){var o=Math.max(document.documentElement.clientWidth,window.innerWidth||0),a=new e.maps.LatLng(agm_opt.map_Lat,agm_opt.map_Lng),i={draggable:o>480?!0:!1,overviewMapControl:!0,center:a,streetViewControl:!1,zoom:agm_opt.map_zoom,mapTypeId:e.maps.MapTypeId.ROADMAP,zoomControl:!0,zoomControlOptions:{position:e.maps.ControlPosition.LEFT_CENTER},mapTypeControl:!0,mapTypeControlOptions:{style:e.maps.MapTypeControlStyle.DROPDOWN_MENU,position:e.maps.ControlPosition.TOP_RIGHT}},r=new e.maps.Map(n,i),l=jQuery("#agm_lat"),s=jQuery("#agm_lng"),m=jQuery("#agm_zoom"),c=jQuery("#agm_zoom_pre"),p=new e.maps.Marker({draggable:!0,position:a,map:r,title:"Current Position"});e.maps.event.addListener(r,"rightclick",function(e){l.val(e.latLng.lat()),s.val(e.latLng.lng()),p.setTitle("Selected Position"),p.setPosition(e.latLng)}),e.maps.event.addListener(p,"dragend",function(e){l.val(e.latLng.lat()),s.val(e.latLng.lng())}),e.maps.event.addListener(r,"zoom_changed",function(){m.val(r.getZoom()),c.html(r.getZoom())}),e.maps.event.addListener(r,"center_changed",function(){var e=r.getCenter();l.val(e.lat()),s.val(e.lng())}),m.on("input click",function(){c.html(this.value),r.setZoom(parseInt(m.val()))});var g=new e.maps.places.Autocomplete(t("agm_autocomplete"));e.maps.event.addListener(g,"place_changed",function(){var e=g.getPlace();e.geometry&&(r.panTo(e.geometry.location),p.setPosition(e.geometry.location),r.setZoom(15),p.setTitle(e.formatted_address))})}var n=t("agm_map_canvas");"object"==typeof e?e.maps.event.addDomListener(window,"load",o):n.innerHTML='<h4 style="text-align: center;color: #ba060b">Failed to load Google Map.<br>Refresh this page and try again.<br>Check your internet connection as well.</h4>'}(google),jQuery(function(e){e("#agm_autocomplete").keydown(function(e){(13==e.which||13==e.which)&&(e.preventDefault(),e.stopPropagation())}),e("#agm_info_on").click(function(){e(this).is(":checked")&&e(this).next("label").find("i:not(:visible)").fadeIn()}),agm_opt.color_picker&&e("#agm_color_field").wpColorPicker(),e("#screen-options-wrap").find("div.agm_meta_box").find("input").change(function(){var t=e(this).parents("div.agm_meta_box").find("input").serialize(),o=e("#agm_meta_ajax_result");o.stop(!0,!0).fadeOut(0),e.ajax({url:agm_opt.ajax_url,data:t,success:function(e,t){"1"==e&&"success"==t&&o.html('&#10004; Settings has been saved, <a href="#" onclick="window.location.reload()">Reload</a> page to see changes.').fadeIn(function(){o.delay("10000").fadeOut(0)})},error:function(e,t){var n="Error Saving Options";n=0===e.status?"Could not connect to server ! Try Again..":"timeout"===t?"Connection Timeout ! Try Again..":"Unknown error.",o.html("&#10008; "+n).show()}})})});